generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int     @id @default(autoincrement())
  email     String  @unique
  name      String?
  firstName String?
  lastName  String?
  password  String
  salt      String
}

model Book {
  id            Int           @id @default(autoincrement())
  name          String
  fullName      String        @unique
  format        String
  size          Int
  createdOnDisk DateTime
  summary       String
  meta          Json
  pages         Int
  isbn          String?
  isbn10        String?
  isbn13        String?
  previewImage  PreviewImage?
  volumeInfo    VolumeInfo?
}

model PreviewImage {
  id     Int   @id @default(autoincrement())
  bookId Int   @unique
  data   Bytes
  book   Book  @relation(fields: [bookId], references: [id])
}

model VolumeInfo {
  id                  Int      @id @default(autoincrement())
  bookId              Int      @unique
  title               String
  authors             String[]
  publisher           String
  publishedDate       String
  description         String
  industryIdentifiers Json[]
  pageCount           String
  categories          String[]
  maturityRating      String
  language            String
  book                Book     @relation(fields: [bookId], references: [id])
}
